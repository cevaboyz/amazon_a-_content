<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Simulatore Contenuti Amazon A+ Premium v4.9</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" xintegrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" xintegrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNTlrdUmTzrDgektczlKNRRhy5X5AAOnx5S09ydFYWWNSfcEqDTTHgtNA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<style>
/* === CSS Invariato rispetto alla 1.0 tranne aggiunte e modifiche per nuovi moduli === */
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Arial,Helvetica,sans-serif;line-height:1.6;background:#f4f4f4;color:#333;display:flex;flex-direction:column;min-height:100vh}
header{background:#232f3e;color:#fff;padding:1rem;text-align:center}
.container{display:flex;flex-grow:1;flex-wrap:wrap;padding:1rem;gap:1rem}
.controls{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,.1);flex:1;min-width:300px;max-width:500px;align-self:flex-start}
.controls h2,.controls h3{color:#e47911;margin-bottom:.8rem;padding-bottom:.5rem;border-bottom:2px solid #e47911}
.module-selection-header{display:flex;justify-content:space-between;align-items:center}
#selected-modules-count{font-size:.9em;background:#f0f2f2;padding:.2em .6em;border-radius:4px}
#module-list button{display:block;width:100%;padding:.8rem;margin-bottom:.5rem;background:#f0f2f2;border:1px solid #ddd;border-radius:4px;cursor:pointer;text-align:left;transition:.2s}
#module-list button:hover{background:#e3e6e6}

/* Stile per evidenziare il modulo selezionato nei controlli */
@keyframes blinking-border-green {
    0% { border-color: #39ff14; box-shadow: 0 0 5px #39ff14, inset 0 0 5px rgba(57, 255, 20, 0.3); }
    50% { border-color: #90ee90; box-shadow: 0 0 10px #90ee90, inset 0 0 10px rgba(144, 238, 144, 0.5); }
    100% { border-color: #39ff14; box-shadow: 0 0 5px #39ff14, inset 0 0 5px rgba(57, 255, 20, 0.3); }
}
.selected-module-input-group {
    background-color: #f0fff0 !important; /* Verde chiaro per lo sfondo */
    border: 2px solid #39ff14 !important; /* Verde fluo */
    animation: blinking-border-green 1.5s infinite;
}


.module-input-group{border:1px solid #ccc;border-radius:5px;padding:1rem;margin-bottom:1rem;background:#fdfdfd}
.module-input-group h4{margin-bottom:.8rem;color:#555;display:flex;justify-content:space-between;align-items:center}
.module-input-group label{display:block;margin-bottom:.3rem;font-weight:700;font-size:.9em}
.module-input-group input[type=text],.module-input-group textarea,.module-input-group select{width:100%;padding:.6rem;margin-bottom:.3rem;border:1px solid #ccc;border-radius:4px;font-size:1em}
.module-input-group input[type=checkbox]{width:auto;margin-right:5px;}
.module-input-group textarea{min-height:80px;resize:vertical}
.char-counter{font-size:.8em;color:#777;text-align:right;margin-bottom:.6rem}
.char-counter.over-limit{color:#c00;font-weight:700}
.image-upload-area{margin-top:.5rem;margin-bottom:1rem;border:1px dashed #ccc;padding:.5rem;border-radius:4px}
.image-preview{max-width:100px;max-height:100px;margin-top:.5rem;border:1px solid #eee;display:block; object-fit: contain;}
.image-placeholder{width:100px;height:60px;background:#eee;color:#999;font-size:0.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:5px;border:1px solid #ddd; margin-top: 0.5rem;}
.remove-module-btn{background:#d9534f;color:#fff;border:none;padding:.3rem .6rem;border-radius:4px;cursor:pointer;font-size:.8em}
.remove-module-btn:hover{background:#c9302c}
.preview-area{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,.1);flex:2;min-width:320px}
.preview-area h2{color:#232f3e;margin-bottom:.8rem;padding-bottom:.5rem;border-bottom:2px solid #232f3e}

/* Controlli per l'anteprima (Desktop/Mobile) */
.preview-controls {
    display: flex;
    justify-content: flex-end; 
    margin-bottom: 10px;
    gap: 10px;
}
.preview-controls button {
    background-color: #f0f2f2;
    border: 1px solid #ccc;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
}
.preview-controls button:hover:not(:disabled) {
    background-color: #e3e6e6;
}
.preview-controls button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
.preview-controls button svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
}


#preview-container{border:1px solid #eee;min-height:400px;padding:10px;background:#fff; overflow-x: auto;}
.preview-module{margin-bottom:15px;border:1px solid #eee;padding:15px;overflow:hidden;background:#fff;position:relative}
.preview-module img{max-width:100%;height:auto;display:block;margin:0 auto 10px auto}
.preview-module .image-placeholder-large { width: 100%; height: 200px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999; border: 1px dashed #ccc; margin-bottom: 10px; font-size: 0.9em;}
.preview-module .img-container-fixed-size {
    width: 100%;
    overflow: hidden;
    background-color: #e9e9e9;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #eee;
}
.preview-module .img-container-fixed-size img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    margin: 0;
}
.preview-module .img-container-fixed-size .image-placeholder-content {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
    font-size: 0.8em;
    text-align: center;
    padding: 5px;
}

/* === Nuovi stili e Modifiche per Anteprime Moduli === */
.preview-module h3, .preview-module h4, .preview-module h5 { margin-bottom: 0.5em; color: #111; }
.preview-module p { margin-bottom: 1em; color: #333; }
.preview-module .sub-headline { font-size: 0.9em; color: #555; font-weight: bold; }
.preview-module .headline { font-size: 1.5em; font-weight: bold; }
.preview-module .body-text { font-size: 1em; line-height: 1.5; }

/* Stili specifici per moduli */
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT { position: relative; padding:0; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .bg-image-container { width: 100%; max-height: 600px; overflow: hidden; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .bg-image-container img { width: 100%; height: auto; display: block; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay {
    position: absolute;
    bottom: 20px;
    padding: 20px;
    max-width: 40%;
    border-radius: 5px;
    overflow: hidden;
    word-wrap: break-word;
}
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.align-left { left: 20px; text-align: left; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.align-right { right: 20px; text-align: right; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-white { background-color: rgba(255,255,255,0.8); color: #000; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-white h3,
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-white h4,
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-white p { color: #000; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-black { background-color: rgba(0,0,0,0.7); color: #fff; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-black h3,
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-black h4,
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay.bg-black p { color: #fff; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay h3,
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay h4,
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay p { margin-bottom: 0.5em; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay h4 { font-size: 1.2em; }
.preview-PREMIUM_BACKGROUND_IMAGE_TEXT .text-overlay h3 { font-size: 1.5em; }


.preview-PREMIUM_DUAL_IMAGES_TEXT .dual-image-layout { display: flex; flex-wrap: wrap; gap: 15px; justify-content: space-between; }
.preview-PREMIUM_DUAL_IMAGES_TEXT .image-block {
    flex: 0 1 calc(50% - 7.5px);
    text-align: center;
    overflow: hidden;
}
.preview-PREMIUM_DUAL_IMAGES_TEXT .image-block .img-container-fixed-size { height: 175px; margin-bottom: 10px;}

.preview-PREMIUM_DUAL_IMAGES_TEXT .image-block h4,
.preview-PREMIUM_DUAL_IMAGES_TEXT .image-block p {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    max-width: 100%;
}

.preview-PREMIUM_FULL_IMAGE .headline,
.preview-PREMIUM_FULL_IMAGE .body-text {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    max-width: 100%;
    text-align: center;
}

.preview-PREMIUM_HOTSPOTS_2 .module-headline,
.preview-PREMIUM_HOTSPOTS_2 .module-body {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    max-width: 100%;
    overflow: hidden;
}


.preview-PREMIUM_FOUR_IMAGES_TEXT .four-image-layout { display: flex; flex-wrap: wrap; gap: 15px; justify-content: space-between; }
.preview-PREMIUM_FOUR_IMAGES_TEXT .image-block {
    flex: 0 1 calc(25% - 11.25px);
    text-align: center;
    overflow: hidden;
}
.preview-PREMIUM_FOUR_IMAGES_TEXT .image-block .img-container-fixed-size { height: 112px; margin-bottom: 10px; }

.preview-PREMIUM_FOUR_IMAGES_TEXT .image-block h4,
.preview-PREMIUM_FOUR_IMAGES_TEXT .image-block p {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    max-width: 100%;
}


.preview-PREMIUM_FU
